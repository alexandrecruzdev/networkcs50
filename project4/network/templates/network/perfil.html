{% extends "network/layout.html" %}

{% block body %}
    <div class="container">
        <div class="d-flex justify-content-center">

        <div class="d-flex flex-column align-items-center m-4">
            <h4>Seguidores</h4>
            <p>{{len_followers}}</p>
        </div>
        <div class="d-flex flex-column align-items-center m-4">
            <h4>Seguindo</h4>
            <p>{{len_following}}</p>
        </div>
        <div class="d-flex flex-column align-items-center m-4">
            {% if user_perfil_request_user %}

            {% else %}
            {% if is_following %}
            <button id="followToggle"  onclick="handlerOnclickUnFollow('{{request.user}}')" class="btn btn-primary">Deixar de Seguir</button>
            {% else %}
            <!-- <form action="" method="post"> -->
                    <button id="button_follow"  onclick="handlerOnclickFollow('{{request.user}}')" class="btn btn-primary">Seguir</button>
            <!-- </form> -->
            {% endif %}
            {% endif%}
        </div>
        </div>

               

        

      {% for post in posts %}
      <br><br>
      <div class="container">
          <div class="row">
            <div class="col-md-6 mx-auto">
              <div class="card">
                <div class="card-body" id={{post.id}}>
                  <a href="/perfil/{{post.user}}"><h5 class="card-title">{{post.user}}</h5> </a>
                  {% if request.user == post.user %}
                  <button class="btn btn-link" onclick="handlerOnclickEdit('{{post.id}}')">Editar</button>
                  {% endif %}
                  <p class="card-text" id={{post.id}}>
                    {{post.content}}
                  </p>
                    <textarea style="display: none;" class="textarea_edit"></textarea><br>
                    <button  style="display: none;" class="btn btn-link" onclick="save('{{post.id}}')">Save</button>
      
                  <p class="card-text">{{post.created_at}}</p>
                  <p class="card-text">
                      <span class="text-danger">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                            <path d="M13.697 2.303C12.912 1.518 11.938 1 10.9 1c-1.11 0-2.089.527-2.9 1.34C7.19 1.527 6.21 1 5.1 1 4.062 1 3.088 1.518 2.303 2.303A4.003 4.003 0 0 0 1 5c0 1.213.445 2.297 1.177 3.023C3.23 9.76 5.615 11 8 11s4.77-1.24 5.823-2.977A4.003 4.003 0 0 0 15 5a4.003 4.003 0 0 0-1.303-2.697zM8 12c-1.676 0-3.455-.768-4.848-2.15C1.894 8.242 1 6.909 1 5c0-1.654 1.346-3 3-3 .73 0 1.427.267 2 .752A3.99 3.99 0 0 1 8 3c1.654 0 3 1.346 3 3 0 1.909-.894 3.242-2.152 4.85C11.456 11.232 9.677 12 8 12z"/>
                          </svg>
                        </span>                 
                  0
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      {% endfor %}
      <br>
<div class="d-flex justify-content-center">
<nav aria-label="Page navigation example">
  <ul class="pagination">
    {% if posts.has_previous %}
    <li class="page-item"><a class="page-link" href="?pagina={{ posts.previous_page_number }}">Previous</a></li>
    {% endif %}
    
    {% if posts.has_next %}
    <li class="page-item"><a class="page-link" href="?pagina={{ posts.next_page_number }}">Next</a></li>
    {% endif %}
  </ul>
</nav>
</div>
    </div>
{% endblock %}